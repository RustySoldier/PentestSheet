# Findings that might come handy 
[Findings](https://github.com/RustySoldier/PentestSheet/tree/main/Findings)

# Enumeration

**nmap -sC -sV -oA filename IP**

1. [SMB](https://github.com/RustySoldier/PentestSheet/new/main/Active%20Directory/Pre-exploitation#enumerating-smb) 
2. [HTTP](https://github.com/RustySoldier/PentestSheet/new/main/Active%20Directory/Pre-exploitation#enumerating-http)
3. [LDAP]()
4. [DNS]()


## Enumerating SMB
### USING crackmapexec
1. crackmapexec smb IP -> machine name, domain name, etc 
2. crackmapexec smb IP --shares -> lists shares 
3. crackmapexec smb IP --shares -u '' -p '' -> check for anon login and list shares

### USING smbmap
1.smbmap -H IP -u '' -p ''

### USING rpcclient
1. rpcclient IP -U ''  -> if access
2. enumdomusers ->ACCESS_DENIED move on 

### USING SMBclient
1. smbclient -L \\\\IP\\  ---> to get list of shares if anon login is allowed
2. smbclient \\\\IP\\SHARE_NAME ---> to access the shares!

### USING Mount 
1. sudo mount -t cifs //IP/share_name  /mnt -o user=,password= ---> mount the share to our directory and then enumerate inside the directories

## Enumerating HTTP
1. Basic usual enums, burpsuite, nikto, ffuf.
2. Create Word list using CEWL
3. look at the website for names they can be used as usernames for attacks.

## Enumerating LDAP
1. ldapsearch -x -H ldap://IP -s base namingcontext
2. ldapsearch -x -H ldap://IP -s sub -b 'DC=HTB,DC=LOCAL'

## Enumerating DNS
### USING nslookup
First do just **nslookup** to get a lookup shell and then use the following commands<br>
1. server IP
2. 127.0.0.1
3. IP
4. Domain.ext
5. commonName
