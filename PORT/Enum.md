# Findings that might come handy 
[Findings](https://github.com/RustySoldier/PentestSheet/tree/main/Findings)

# Enumeration

**nmap -sC -sV -oA filename IP**

1. [SMB](https://github.com/RustySoldier/PentestSheet/blob/main/PORT/Enum.md#enumerating-smb) 
2. [HTTP](https://github.com/RustySoldier/PentestSheet/blob/main/PORT/Enum.md#enumerating-http)
3. [LDAP](https://github.com/RustySoldier/PentestSheet/blob/main/PORT/Enum.md#enumerating-ldap)
4. [DNS](https://github.com/RustySoldier/PentestSheet/blob/main/PORT/Enum.md#enumerating-dns)
5. [RPC]()


## Enumerating SMB
### USING crackmapexec
1. crackmapexec smb IP -> machine name, domain name, etc 
2. crackmapexec smb IP --shares -> lists shares 
3. crackmapexec smb IP --shares -u '' -p '' -> check for anon login and list shares
4. crackmapexec smb IP --pass-pol -u '' -p '' --> gives password policy ===>check lockout threshold
5. crackmapexec winrm IP -u 'user_name' -p 'pass_word' ---->will give if the creds can be used to evil-winrm

### USING smbmap
1.smbmap -H IP -u '' -p ''

### USING rpcclient
1. rpcclient IP -U ''  -> if access
2. enumdomusers ->ACCESS_DENIED move on 

### USING SMBclient
1. smbclient -L \\\\IP\\  ---> to get list of shares if anon login is allowed
2. smbclient \\\\IP\\SHARE_NAME ---> to access the shares!

### USING Mount 
1. sudo mount -t cifs //IP/share_name  /mnt -o user=,password= ---> mount the share to our directory and then enumerate inside the directories

## Enumerating HTTP
1. Basic usual enums, burpsuite, nikto, ffuf.
2. Create Word list using CEWL
3. look at the website for names they can be used as usernames for attacks.

## Enumerating LDAP
1. ldapsearch -x -H ldap://IP -s base namingcontext
2. ldapsearch -x -H ldap://IP -s sub -b 'DC=HTB,DC=LOCAL'

## Enumerating DNS
### USING nslookup
First do just **nslookup** to get a lookup shell and then use the following commands<br>
1. server IP
2. 127.0.0.1
3. IP
4. Domain.ext
5. commonName

## Enumerating RPC
1. rpcclient -U '' -N IP
2. enumdomusers  ----> give a list of all the users with their respective rid
3. queryuser rid  ----> query a specific users
4. querydispinfo  ===> small info about each of the users
5. querydispinfo2 ===> info about each user
