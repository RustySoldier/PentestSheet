# EMPIRE SERVER AND CLIENT

1. [Listener](https://github.com/RustySoldier/PentestSheet/blob/main/Active%20Directory/Post-Exploitation/Command%20And%20Control.md#listeners)
2. [Stagers](https://github.com/RustySoldier/PentestSheet/blob/main/Active%20Directory/Post-Exploitation/Command%20And%20Control.md#stagers)
3. [Agents](https://github.com/RustySoldier/PentestSheet/blob/main/Active%20Directory/Post-Exploitation/Command%20And%20Control.md#agents)
4. [modules](https://github.com/RustySoldier/PentestSheet/blob/main/Active%20Directory/Post-Exploitation/Command%20And%20Control.md#modules)


## Listeners
**CMDS:**<br>
1. uselistener listenerName
Example<br> uselistener http
2. options
3. set options
4. execute
## Stagers
1. usestager 
2. multi/launcher best bet like multi/handler
3. set listener
4. execute
## Agents
1. They are like meterpreter sessions 
2. Stagers will generate payloads which when executed will give us an agent
3. interact agent-name will work like sessions session-number
4. we can use shell cmd-name to do shell-cmds

## Hop Listeners
1. Relay cuz not always this gonna go this easy
2. uselistener http_hop
3. set RedirectListener to one of the listener
4. usestager multi/launcher
5. set listener to http_hop 
6. execute 
7. go /tmp/http_hop
8. create a zip file by
9. zip -r hop.zip \* 
10. launch a http server and copy these files to /tmp/hop_http on the vuln server
11. also open a port for connection 
12. as it is a vuln server it will relay back these files automatically but its better just to create another php server 
13. php -S 0.0.0.0:OpenedPort & 
14. And relay is setup 
15. Now we can use powershell etc to run the cmds given by the stager and get a connection back as an agent
## Modules
1. Empire has multiple modules for many uses
2. Like Privilege escalation, enumeration etc
3. use module module_name


